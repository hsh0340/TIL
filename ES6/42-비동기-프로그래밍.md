## 동기 처리와 비동기 처리
함수를 호출하면 함수 코드가 평가되어 함수 실행 컨텍스트가 생성된다. 이 때 생성된 함수 실행 컨텍스트는 실행 컨텍스트 스택(= 콜스택)에 푸시되고 함수 코드가 실행된다. 함수 코드의 실행이 종료하면 함수 실행 컨텍스트는 실행 컨텍스트 스택에서 팝되어 제거된다.

<img width="681" alt="images-ggong-post-899a0b06-c594-43e0-9a0e-7a41bead87ca-스크린샷 2021-06-01 오후 9 48 10-2" src="https://user-images.githubusercontent.com/73820746/220886068-3fbabdf4-0f2e-4087-a095-2c551fd9f91e.png">

함수가 실행되려면 생성된 함수 실행 컨텍스트가 콜스택에 푸시되어야 한다. 즉, 콜 스택에 함수 실행 컨텍스트가 푸시되는 것은 함수 실행의 시작을 의미한다. 함수가 호출된 순서대로 순차적으로 실행되는 이유는 함수가 호출된 순서대로 함수 실행 컨텍스트가 콜스택에 푸시되기 때문이다.

자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖는다. 이는 동시에 2개 이상의 함수를 동시에 실행할 수 없음을 의미한다. 콜스택의 최상위 요소인 "실행중인 실행 컨텍스트"를 제외한 모든 실행 컨텍스트는 모두 실행 대기중인 태스크들이다. 대기 중인 태스크들은 현재 실행 중인 실행 컨택스트가 팝되어 콜스택에서 제거되면, 즉 현재 실행중인 함수가 종료되면 비로소 실행되기 시작한다.

이처럼 자바스크립트 엔진은 한 번에 하나의 태스크만 실행할 수 있는 싱글스레드 방식으로 동작한다. 싱글 스레드 방식은 한 번에 하나의 태스크만 실행할 수 있기 때문에 처리에 시간이 걸리는 태스크를 실행하는 경우 블로킹(작업 중단)이 발생한다. 

## 이벤트 루프와 태스크 큐
싱글 스레드 방식은 한 번에 하나의 태스크만 처리할 수 있다는 것을 의미한다. 하지만 브라우저가 동작하는 것을 살펴보면 많은 태스크가 동시에 처리되는 것 처럼 느껴진다. 예를 들어, HTML 요소가 애니메이션 효과를 통해 움직이면서 이벤트를 처리하기도 하고, HTTP 요청을 통해 서버로부터 데이터를 가지고 오면서 렌더링 하기도 한다. 이처럼 자바스크립트의 동시성을 지원하는 것이 바로 이벤트 루프다.